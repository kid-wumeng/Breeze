var Breeze=function(){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var i,s=class{constructor(){this.on=this.on.bind(this),this.emit=this.emit.bind(this),this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e,...t){var i,s,r,n;for(s=0,r=(i=null!=(n=this.events[e])?n:[]).length;s<r;s++)(0,i[s])(...t);return this}},r=t(function(t,i){!function(e){var i={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:m,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:m,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function s(e){this.tokens=[],this.tokens.links={},this.options=e||b.defaults,this.rules=i.normal,this.options.gfm&&(this.options.tables?this.rules=i.tables:this.rules=i.gfm)}i._label=/(?:\\[\[\]]|[^\[\]])+/,i._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,i.def=c(i.def).replace("label",i._label).replace("title",i._title).getRegex(),i.bullet=/(?:[*+-]|\d+\.)/,i.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,i.item=c(i.item,"gm").replace(/bull/g,i.bullet).getRegex(),i.list=c(i.list).replace(/bull/g,i.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+i.def.source+")").getRegex(),i._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",i.html=c(i.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,i._tag).getRegex(),i.paragraph=c(i.paragraph).replace("hr",i.hr).replace("heading",i.heading).replace("lheading",i.lheading).replace("tag","<"+i._tag).getRegex(),i.blockquote=c(i.blockquote).replace("paragraph",i.paragraph).getRegex(),i.normal=f({},i),i.gfm=f({},i.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),i.gfm.paragraph=c(i.paragraph).replace("(?!","(?!"+i.gfm.fences.source.replace("\\1","\\2")+"|"+i.list.source.replace("\\1","\\3")+"|").getRegex(),i.tables=f({},i.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),s.rules=i,s.lex=function(e,t){return new s(t).lex(e)},s.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},s.prototype.token=function(e,t){var s,r,n,a,l,h,o,u,c,d;for(e=e.replace(/^ +$/gm,"");e;)if((n=this.rules.newline.exec(e))&&(e=e.substring(n[0].length),n[0].length>1&&this.tokens.push({type:"space"})),n=this.rules.code.exec(e))e=e.substring(n[0].length),n=n[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?n:n.replace(/\n+$/,"")});else if(n=this.rules.fences.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"code",lang:n[2],text:n[3]||""});else if(n=this.rules.heading.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"heading",depth:n[1].length,text:n[2]});else if(t&&(n=this.rules.nptable.exec(e))){for(e=e.substring(n[0].length),h={type:"table",header:n[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3].replace(/\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].split(/ *\| */);this.tokens.push(h)}else if(n=this.rules.hr.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"hr"});else if(n=this.rules.blockquote.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"blockquote_start"}),n=n[0].replace(/^ *> ?/gm,""),this.token(n,t),this.tokens.push({type:"blockquote_end"});else if(n=this.rules.list.exec(e)){for(e=e.substring(n[0].length),a=n[2],this.tokens.push({type:"list_start",ordered:a.length>1}),s=!1,d=(n=n[0].match(this.rules.item)).length,u=0;u<d;u++)o=(h=n[u]).length,~(h=h.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(o-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+o+"}","gm"),"")),this.options.smartLists&&u!==d-1&&(a===(l=i.bullet.exec(n[u+1])[0])||a.length>1&&l.length>1||(e=n.slice(u+1).join("\n")+e,u=d-1)),r=s||/\n\n(?!\s*$)/.test(h),u!==d-1&&(s="\n"===h.charAt(h.length-1),r||(r=s)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(h,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(n=this.rules.html.exec(e))e=e.substring(n[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===n[1]||"script"===n[1]||"style"===n[1]),text:n[0]});else if(t&&(n=this.rules.def.exec(e)))e=e.substring(n[0].length),n[3]&&(n[3]=n[3].substring(1,n[3].length-1)),c=n[1].toLowerCase(),this.tokens.links[c]||(this.tokens.links[c]={href:n[2],title:n[3]});else if(t&&(n=this.rules.table.exec(e))){for(e=e.substring(n[0].length),h={type:"table",header:n[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(h)}else if(n=this.rules.lheading.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"heading",depth:"="===n[2]?1:2,text:n[1]});else if(t&&(n=this.rules.paragraph.exec(e)))e=e.substring(n[0].length),this.tokens.push({type:"paragraph",text:"\n"===n[1].charAt(n[1].length-1)?n[1].slice(0,-1):n[1]});else if(n=this.rules.text.exec(e))e=e.substring(n[0].length),this.tokens.push({type:"text",text:n[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:m,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function n(e,t){if(this.options=t||b.defaults,this.links=e,this.rules=r.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=r.breaks:this.rules=r.gfm:this.options.pedantic&&(this.rules=r.pedantic)}function a(e){this.options=e||{}}function l(){}function h(e){this.tokens=[],this.token=null,this.options=e||b.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function c(e,t){return e=e.source,t=t||"",{replace:function(t,i){return i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,i),this},getRegex:function(){return new RegExp(e,t)}}}function d(e,t){return p[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?p[" "+e]=e+"/":p[" "+e]=e.replace(/[^/]*$/,"")),e=p[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=c(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,r._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,r.link=c(r.link).replace("inside",r._inside).replace("href",r._href).getRegex(),r.reflink=c(r.reflink).replace("inside",r._inside).getRegex(),r.normal=f({},r),r.pedantic=f({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),r.gfm=f({},r.normal,{escape:c(r.escape).replace("])","~|])").getRegex(),url:c(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",r._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(r.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),r.breaks=f({},r.gfm,{br:c(r.br).replace("{2,}","*").getRegex(),text:c(r.gfm.text).replace("{2,}","*").getRegex()}),n.rules=r,n.output=function(e,t,i){return new n(t,i).output(e)},n.prototype.output=function(e){for(var t,i,s,r,n="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),n+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),s="@"===r[2]?"mailto:"+(i=o(this.mangle(r[1]))):i=o(r[1]),n+=this.renderer.link(s,null,i);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),n+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):o(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,n+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){n+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,n+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),n+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),n+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),n+=this.renderer.codespan(o(r[2].trim(),!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),n+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),n+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),n+=this.renderer.text(o(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else r[0]=this.rules._backpedal.exec(r[0])[0],e=e.substring(r[0].length),"@"===r[2]?s="mailto:"+(i=o(r[0])):(i=o(r[0]),s="www."===r[1]?"http://"+i:i),n+=this.renderer.link(s,null,i);return n},n.prototype.outputLink=function(e,t){var i=o(t.href),s=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,s,this.output(e[1])):this.renderer.image(i,s,o(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,i="",s=e.length,r=0;r<s;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),i+="&#"+t+";";return i},a.prototype.code=function(e,t,i){if(this.options.highlight){var s=this.options.highlight(e,t);null!=s&&s!==e&&(i=!0,e=s)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(i?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(i?e:o(e,!0))+"\n</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,i){return"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t){var i=t?"ol":"ul";return"<"+i+">\n"+e+"</"+i+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' style="text-align:'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,i){if(this.options.sanitize){try{var s=decodeURIComponent(u(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return i}if(0===s.indexOf("javascript:")||0===s.indexOf("vbscript:")||0===s.indexOf("data:"))return i}this.options.baseUrl&&!g.test(e)&&(e=d(this.options.baseUrl,e));var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>"},a.prototype.image=function(e,t,i){this.options.baseUrl&&!g.test(e)&&(e=d(this.options.baseUrl,e));var s='<img src="'+e+'" alt="'+i+'"';return t&&(s+=' title="'+t+'"'),s+=this.options.xhtml?"/>":">"},a.prototype.text=function(e){return e},l.prototype.strong=l.prototype.em=l.prototype.codespan=l.prototype.del=l.prototype.text=function(e){return e},l.prototype.link=l.prototype.image=function(e,t,i){return""+i},l.prototype.br=function(){return""},h.parse=function(e,t){return new h(t).parse(e)},h.prototype.parse=function(e){this.inline=new n(e.links,this.options),this.inlineText=new n(e.links,f({},this.options,{renderer:new l})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},h.prototype.next=function(){return this.token=this.tokens.pop()},h.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},h.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},h.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,i,s,r="",n="";for(i="",e=0;e<this.token.header.length;e++)i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],i="",s=0;s<t.length;s++)i+=this.renderer.tablecell(this.inline.output(t[s]),{header:!1,align:this.token.align[s]});n+=this.renderer.tablerow(i)}return this.renderer.table(r,n);case"blockquote_start":for(n="";"blockquote_end"!==this.next().type;)n+=this.tok();return this.renderer.blockquote(n);case"list_start":n="";for(var a=this.token.ordered;"list_end"!==this.next().type;)n+=this.tok();return this.renderer.list(n,a);case"list_item_start":for(n="";"list_item_end"!==this.next().type;)n+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(n);case"loose_item_start":for(n="";"list_item_end"!==this.next().type;)n+=this.tok();return this.renderer.listitem(n);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var p={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function f(e){for(var t,i,s=1;s<arguments.length;s++)for(i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function b(e,t,i){if(void 0===e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"==typeof t){i||(i=t,t=null);var r,n,a=(t=f({},b.defaults,t||{})).highlight,l=0;try{r=s.lex(e,t)}catch(e){return i(e)}n=r.length;var u=function(e){if(e)return t.highlight=a,i(e);var s;try{s=h.parse(r,t)}catch(t){e=t}return t.highlight=a,e?i(e):i(null,s)};if(!a||a.length<3)return u();if(delete t.highlight,!n)return u();for(;l<r.length;l++)!function(e){"code"!==e.type?--n||u():a(e.text,e.lang,function(t,i){return t?u(t):null==i||i===e.text?--n||u():(e.text=i,e.escaped=!0,void(--n||u()))})}(r[l])}else try{return t&&(t=f({},b.defaults,t)),h.parse(s.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(t||b.defaults).silent)return"<p>An error occurred:</p><pre>"+o(e.message+"",!0)+"</pre>";throw e}}m.exec=m,b.options=b.setOptions=function(e){return f(b.defaults,e),b},b.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new a,xhtml:!1,baseUrl:null},b.Parser=h,b.parser=h.parse,b.Renderer=a,b.TextRenderer=l,b.Lexer=s,b.lexer=s.lex,b.InlineLexer=n,b.inlineLexer=n.output,b.parse=b,t.exports=b}(e||"undefined"!=typeof window&&window)}),n=t(function(t){var i="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},s=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,s=i.Prism={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof r?new r(e.type,s.util.encode(e.content),e.alias):"Array"===s.util.type(e)?e.map(s.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){switch(s.util.type(e)){case"Object":var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=s.util.clone(e[i]));return t;case"Array":return e.map(function(e){return s.util.clone(e)})}return e}},languages:{extend:function(e,t){var i=s.util.clone(s.languages[e]);for(var r in t)i[r]=t[r];return i},insertBefore:function(e,t,i,r){var n=(r=r||s.languages)[e];if(2==arguments.length){for(var a in i=arguments[1])i.hasOwnProperty(a)&&(n[a]=i[a]);return n}var l={};for(var h in n)if(n.hasOwnProperty(h)){if(h==t)for(var a in i)i.hasOwnProperty(a)&&(l[a]=i[a]);l[h]=n[h]}return s.languages.DFS(s.languages,function(t,i){i===r[e]&&t!=e&&(this[t]=l)}),r[e]=l},DFS:function(e,t,i,r){for(var n in r=r||{},e)e.hasOwnProperty(n)&&(t.call(e,n,e[n],i||n),"Object"!==s.util.type(e[n])||r[s.util.objId(e[n])]?"Array"!==s.util.type(e[n])||r[s.util.objId(e[n])]||(r[s.util.objId(e[n])]=!0,s.languages.DFS(e[n],t,n,r)):(r[s.util.objId(e[n])]=!0,s.languages.DFS(e[n],t,null,r)))}},plugins:{},highlightAll:function(e,t){s.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,i){var r={callback:i,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",r);for(var n,a=r.elements||e.querySelectorAll(r.selector),l=0;n=a[l++];)s.highlightElement(n,!0===t,r.callback)},highlightElement:function(t,r,n){for(var a,l,h=t;h&&!e.test(h.className);)h=h.parentNode;h&&(a=(h.className.match(e)||[,""])[1].toLowerCase(),l=s.languages[a]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,t.parentNode&&(h=t.parentNode,/pre/i.test(h.nodeName)&&(h.className=h.className.replace(e,"").replace(/\s+/g," ")+" language-"+a));var o={element:t,language:a,grammar:l,code:t.textContent};if(s.hooks.run("before-sanity-check",o),!o.code||!o.grammar)return o.code&&(s.hooks.run("before-highlight",o),o.element.textContent=o.code,s.hooks.run("after-highlight",o)),void s.hooks.run("complete",o);if(s.hooks.run("before-highlight",o),r&&i.Worker){var u=new Worker(s.filename);u.onmessage=function(e){o.highlightedCode=e.data,s.hooks.run("before-insert",o),o.element.innerHTML=o.highlightedCode,n&&n.call(o.element),s.hooks.run("after-highlight",o),s.hooks.run("complete",o)},u.postMessage(JSON.stringify({language:o.language,code:o.code,immediateClose:!0}))}else o.highlightedCode=s.highlight(o.code,o.grammar,o.language),s.hooks.run("before-insert",o),o.element.innerHTML=o.highlightedCode,n&&n.call(t),s.hooks.run("after-highlight",o),s.hooks.run("complete",o)},highlight:function(e,t,i){var n=s.tokenize(e,t);return r.stringify(s.util.encode(n),i)},matchGrammar:function(e,t,i,r,n,a,l){var h=s.Token;for(var o in i)if(i.hasOwnProperty(o)&&i[o]){if(o==l)return;var u=i[o];u="Array"===s.util.type(u)?u:[u];for(var c=0;c<u.length;++c){var d=u[c],p=d.inside,g=!!d.lookbehind,m=!!d.greedy,f=0,b=d.alias;if(m&&!d.pattern.global){var v=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,v+"g")}d=d.pattern||d;for(var y=r,k=n;y<t.length;k+=t[y].length,++y){var x=t[y];if(t.length>e.length)return;if(!(x instanceof h)){d.lastIndex=0;var w=1;if(!(_=d.exec(x))&&m&&y!=t.length-1){if(d.lastIndex=k,!(_=d.exec(e)))break;for(var S=_.index+(g?_[1].length:0),$=_.index+_[0].length,C=y,A=k,L=t.length;C<L&&(A<$||!t[C].type&&!t[C-1].greedy);++C)S>=(A+=t[C].length)&&(++y,k=A);if(t[y]instanceof h||t[C-1].greedy)continue;w=C-y,x=e.slice(k,A),_.index-=k}if(_){g&&(f=_[1]?_[1].length:0);$=(S=_.index+f)+(_=_[0].slice(f)).length;var _,E=x.slice(0,S),q=x.slice($),P=[y,w];E&&(++y,k+=E.length,P.push(E));var R=new h(o,p?s.tokenize(_,p):_,b,_,m);if(P.push(R),q&&P.push(q),Array.prototype.splice.apply(t,P),1!=w&&s.matchGrammar(e,t,i,y,k,!0,o),a)break}else if(a)break}}}}},tokenize:function(e,t,i){var r=[e],n=t.rest;if(n){for(var a in n)t[a]=n[a];delete t.rest}return s.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){var i=s.hooks.all;i[e]=i[e]||[],i[e].push(t)},run:function(e,t){var i=s.hooks.all[e];if(i&&i.length)for(var r,n=0;r=i[n++];)r(t)}}},r=s.Token=function(e,t,i,s,r){this.type=e,this.content=t,this.alias=i,this.length=0|(s||"").length,this.greedy=!!r};if(r.stringify=function(e,t,i){if("string"==typeof e)return e;if("Array"===s.util.type(e))return e.map(function(i){return r.stringify(i,t,e)}).join("");var n={type:e.type,content:r.stringify(e.content,t,i),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:i};if(e.alias){var a="Array"===s.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(n.classes,a)}s.hooks.run("wrap",n);var l=Object.keys(n.attributes).map(function(e){return e+'="'+(n.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(l?" "+l:"")+">"+n.content+"</"+n.tag+">"},!i.document)return i.addEventListener?(s.disableWorkerMessageHandler||i.addEventListener("message",function(e){var t=JSON.parse(e.data),r=t.language,n=t.code,a=t.immediateClose;i.postMessage(s.highlight(n,s.languages[r],r)),a&&i.close()},!1),i.Prism):i.Prism;var n=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return n&&(s.filename=n.src,s.manual||n.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(s.highlightAll):window.setTimeout(s.highlightAll,16):document.addEventListener("DOMContentLoaded",s.highlightAll))),i.Prism}();t.exports&&(t.exports=s),void 0!==e&&(e.Prism=s),s.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/(^|[^\\])["']/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},s.languages.markup.tag.inside["attr-value"].inside.entity=s.languages.markup.entity,s.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),s.languages.xml=s.languages.markup,s.languages.html=s.languages.markup,s.languages.mathml=s.languages.markup,s.languages.svg=s.languages.markup,s.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^{}\s][^{};]*?(?=\s*\{)/,string:{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},s.languages.css.atrule.inside.rest=s.util.clone(s.languages.css),s.languages.markup&&(s.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:!0,inside:s.languages.css,alias:"language-css",greedy:!0}}),s.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:s.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:s.languages.css}},alias:"language-css"}},s.languages.markup.tag)),s.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},s.languages.javascript=s.languages.extend("clike",{keyword:/\b(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),s.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[[^\]\r\n]+]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=\s*(?:function\b|(?:\([^()]*\)|[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/i,alias:"function"}}),s.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:s.languages.javascript}},string:/[\s\S]+/}}}),s.languages.markup&&s.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:s.languages.javascript,alias:"language-javascript",greedy:!0}}),s.languages.js=s.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(t){for(var i,r=t.getAttribute("data-src"),n=t,a=/\blang(?:uage)?-(?!\*)(\w+)\b/i;n&&!a.test(n.className);)n=n.parentNode;if(n&&(i=(t.className.match(a)||[,""])[1]),!i){var l=(r.match(/\.(\w+)$/)||[,""])[1];i=e[l]||l}var h=document.createElement("code");h.className="language-"+i,t.textContent="",h.textContent="Loading…",t.appendChild(h);var o=new XMLHttpRequest;o.open("GET",r,!0),o.onreadystatechange=function(){4==o.readyState&&(o.status<400&&o.responseText?(h.textContent=o.responseText,s.highlightElement(h)):o.status>=400?h.textContent="✖ Error "+o.status+" while fetching file: "+o.statusText:h.textContent="✖ Error: File does not exist or is empty")},o.send(null)})},document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight))}),a=class{constructor(e){this.parseNodes=this.parseNodes.bind(this),this.parseNode=this.parseNode.bind(this),this.parseDeep=this.parseDeep.bind(this),this.parseTag=this.parseTag.bind(this),this.parseAttr=this.parseAttr.bind(this),this.parseText=this.parseText.bind(this),this.parseTree=this.parseTree.bind(this),this.compile=this.compile.bind(this),this.jade=e,this.html="",this.compile(this.parseTree(this.parseNodes()))}parseNodes(){var e,t,i,s,r,n;for(n=[],e=0,t=(s=this.jade.split(/\n+/g)).length;e<t;e++)i=s[e],/^\s*$/.test(i)||(r=this.parseNode(i),n.push(r));return n}parseNode(e){var t,i,s,r,n;return({deep:i,rest:s}=this.parseDeep(e)),({tag:r,rest:s}=this.parseTag(s)),({attr:t,rest:s}=this.parseAttr(s)),({text:n,rest:s}=this.parseText(s)),{deep:i,tag:r,attr:t,text:n}}parseDeep(e){var t,i,s;return t=0,i=/^\s+/,s=e.replace(i,e=>(t=e.length,"")),{deep:t,rest:s}}parseTag(e){var t,i;if(t="",i=/^([A-Za-z0-9_\-]+)\s*/,e=e.replace(i,(e,i)=>(t=i,"")),t)return{tag:t,rest:e};throw`Unknown jade-like syntax: ${this._line}`}parseAttr(e){var t,i;return t="",i=/^\(([^)]*)\)/,e=e.replace(i,(e,i)=>(t=i.trim(),"")),{attr:t,rest:e}}parseText(e){return{text:e.trim(),rest:e=""}}parseTree(e){var t,i,s,r,n,a;for(a=n={},t=-1,i=0,s=e.length;i<s;i++)if((r=e[i]).deep>t)null==a.children&&(a.children=[]),a.children.push(r),r.parent=a,a=r,t=r.deep;else if(r.deep===t)a.parent.children.push(r),r.parent=a;else if(r.deep<t){for(;r.deep<=a.deep;)a=a.parent;a.children.push(r),r.parent=a,a=r,t=r.deep}return n}compile(e){var t;return(t=(e=>{var i,s,r,n,a,l,h;if(({tag:l,attr:i,text:h,children:r}=e),!r)return this.html+=`<${l} ${i}>${h}</${l}>\n`;for(l&&(this.html+=`<${l} ${i}>\n`),n=0,a=r.length;n<a;n++)s=r[n],t(s);return l?this.html+=`</${l}>\n`:void 0}))(e)}},l=t(function(e,t){t.element=((e="div",t="")=>{var i,s,r,n,a,l,h;switch(n=/#/.test(e),r=/\./.test(e),h="div",a="",s="",(l=(l=e.split(/#|\./)).filter(e=>e)).length){case 1:switch(!1){case!n:a=l[0];break;case!r:s=l[0];break;default:h=l[0]}break;case 2:switch(!1){case!n:(h=l[0])&&(a=l[1]);break;case!r:(h=l[0])&&(s=l[1])}}return i=document.createElement(h),a&&(i.id=a),s&&i.classList.add(s),t&&(i.innerHTML=t),i})});l.element;i=l;var h,o,u=class{constructor(e){this.render=this.render.bind(this),this.renderItem=this.renderItem.bind(this),this._$raw=e}render(){var e,t,s,r,n;for(e=i.element(".api"),r=0,n=(s=this._$raw.querySelectorAll("item")).length;r<n;r++)t=s[r],t=this.renderItem(t),e.appendChild(t);return e}renderItem(e){var t,s,r,n,a;return r=e.querySelector("name"),a=e.querySelector("type"),t=e.querySelector("desc"),s=i.element(".left"),n=i.element(".right"),r&&(r=i.element(".name",r.innerHTML),s.appendChild(r)),a&&(a=i.element(".type",a.innerHTML),s.appendChild(a)),t&&(t=i.element(".desc",t.innerHTML),n.appendChild(t)),(e=i.element(".item")).appendChild(s),e.appendChild(n),e}},c=t(function(e){var t,i,l,h,o,c=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};h=n,l=s,i=a,t=u,(o=r).setOptions({gfm:!0,tables:!0,highlight:(e,t)=>(t=h.languages[t])?h.highlight(e,t):e}),e.exports=class e extends l{constructor(e){super(),this.compile=this.compile.bind(this),this.parseJade=this.parseJade.bind(this),this.parseCover=this.parseCover.bind(this),this.parseSections=this.parseSections.bind(this),this.formatHeading=this.formatHeading.bind(this),this.trimFirst=this.trimFirst.bind(this),this.compileSections=this.compileSections.bind(this),this.compileSection=this.compileSection.bind(this),this.parseContentAndExample=this.parseContentAndExample.bind(this),this.parseExamples=this.parseExamples.bind(this),this.delExamples=this.delExamples.bind(this),this.parseHeading=this.parseHeading.bind(this),this.getOrder=this.getOrder.bind(this),this.createSummary=this.createSummary.bind(this),this.createSummaryItem=this.createSummaryItem.bind(this),this.getID=this.getID.bind(this),this.render=this.render.bind(this),this.wrapParams=this.wrapParams.bind(this),this.bindScrollEvent=this.bindScrollEvent.bind(this),this.getSectionStats=this.getSectionStats.bind(this),this.scroll=this.scroll.bind(this),this.markdown=e,this.html="",this.lastOrder="0",this.sections=[],this.$dom=null,this.$sections=[],this.cover="",this.summary="",this.lastID="",this.compile(),this.render(),this.$sections=this.$dom.querySelectorAll("article > section"),this.createSummary(this.sections)}compile(){var t,i,s,r;return c(this,e),s=this.markdown,s=this.parseJade(s),({cover:t,markdown:s}=this.parseCover(s)),r=this.parseSections(s),this.trimFirst(r),({html:i,sections:r}=this.compileSections(r)),this.html=i,this.sections=r,this.cover=t}parseJade(t){var s;return c(this,e),s=/<jade>((?:.|\n)*?)<\/jade>/g,t.replace(s,(e,t)=>{return new i(t).html})}parseCover(t){var i,s;return c(this,e),s=/<cover>((?:.|\n)*?)<\/cover>/g,i="",t=t.replace(s,(e,t)=>(i=t,"")),{cover:i,markdown:t}}parseSections(t){var i,s,r,n,a,l,h,o,u,d;for(c(this,e),d=[],o=[],s=!1,a=0,l=(i=t.split("\n")).length;a<l;a++)h=i[a],r=/^\s*```/.test(h),n=/^\s*#{1,6}/.test(h),r&&(s=!s),n&&!s&&(u=o.join("\n"),d.push(u),o=[],h=this.formatHeading(h)),o.push(h);return u=o.join("\n"),d.push(u),d}formatHeading(t){var i,s;return c(this,e),`<h${i=(s=(t=t.trim()).match(/^(#+)\s*(.*)$/))[1].length}>${s[2]}</h${i}>`}trimFirst(t){if(c(this,e),null!=t[0]&&t[0].match(/^(?:\s|\n)*$/))return t.shift()}compileSections(t){var i;return c(this,e),i="",t=t.map(e=>{var t,s,r;return({section:e,heading:r,content:t,example:s}=this.compileSection(e)),i+=e,{heading:r,content:t,example:s}}),{html:i=i.trim(),sections:t}}compileSection(t){var i,s,r,n,a,l,h,u,d;return c(this,e),({content:i,example:s}=this.parseContentAndExample(t)),r=this.parseHeading(i),i=o(i),s=o(s),n=null!=(l=null!=r?r.lv:void 0)?l:"",a=null!=(h=null!=r?r.order:void 0)?h:"",d=null!=(u=null!=r?r.text:void 0)?u:"",{section:t=`<section lv="${n}" id="${this.getID(a,d)}">\n   <div class="content">${i}</div>\n   <div class="example">${s}</div>\n</section>`,heading:r,content:i,example:s}}parseContentAndExample(t){var i,s;return c(this,e),({examples:i,indexes:s}=this.parseExamples(t)),{content:this.delExamples(t,s),example:i.join("")}}parseExamples(t){var i,s,r,n,a,l,h,o,u;for(c(this,e),o=[],a=[],r=[],l=/(<example>)|(<\/example>)/g;h=l.exec(t);)n=h.index,"<example>"===h[0]?o.push(n):(u=o.pop(),i=n+"</example>".length,0===o.length&&(s=(s=t.slice(u,i)).replace(/(<example>)|(<\/example>)/g,""),r.push(s),a.push(u),a.push(i)));return{examples:r,indexes:a}}delExamples(t,i=[]){var s,r,n;for(c(this,e),r="",i.unshift(-1);i.length>1;)n=i.shift(),s=i.shift(),r+=t.slice(n+1,s);return n=i.shift(),r+=t.slice(n+1)}parseHeading(t){var i,s;return c(this,e),(s=t.match(/^<h([1-6])>(.*)<\/h[1-6]>$/m))?{lv:i=parseInt(s[1]),order:this.getOrder(i),text:s[2]}:null}getOrder(t){var i,s,r,n,a,l;for(c(this,e),n=null!=(l=(a=this.lastOrder.split("."))[i=t-1])?l:"0",n=parseInt(n),n+=1,a[i]=n,a=a.slice(0,i+1),i=s=0,r=a.length;s<r;i=++s)a[i],a[i]||(a[i]="0");return this.lastOrder=a.join(".")}createSummary(t){var i,s,r,n,a;for(c(this,e),n=[],s=0,r=t.length;s<r;s++)a=t[s],({heading:i}=a),i&&i.lv<=3?n.push(this.summary+=this.createSummaryItem(i)):n.push(void 0);return n}createSummaryItem(t){var i,s,r,n,a;for(c(this,e),({lv:s,order:r,text:a}=t),i=s,n="";i>1;)n+="  ",i--;return`${n}* [${a}](#${this.getID(r,a)})\n`}getID(t,i=""){return c(this,e),(i=i.replace(/\s+/g,"-"))?t+"-"+i:t}render(){return c(this,e),this.$dom=document.createElement("article"),this.$dom.innerHTML=this.html,this.wrapParams(),this.bindScrollEvent()}wrapParams(){var i,s,r,n,a,l;for(c(this,e),l=[],n=0,a=(r=this.$dom.querySelectorAll("api")).length;n<a;n++)s=r[n],i=new t(s).render(),l.push(s.parentNode.replaceChild(i,s));return l}bindScrollEvent(){return c(this,e),window.addEventListener("scroll",()=>{var e,t,i,s,r,n,a;if(i=""!==this.$dom.innerHTML,s=this.$dom.getBoundingClientRect().width>0,i&&s){for(e=r=0,n=(a=this.getSectionStats()).length;r<n&&!(a[e].top>0);e=++r);if(t=a[e-1].id,this.lastID!==t)return this.lastID=t,this.emit("scroll",t)}})}getSectionStats(){var t,i,s,r,n,a,l;for(c(this,e),a=[],s=0,r=(n=this.$sections).length;s<r;s++)i=(t=n[s]).getAttribute("id"),l=t.getBoundingClientRect().top,a.push({id:i,top:l});return a}scroll(t){var i,s;return c(this,e),(i=this.$dom.querySelector(`section[id="${t}"]`))?(s=i.getBoundingClientRect().top,window.scrollBy(0,s)):window.scrollTo(0,0)}}}),d=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};h=s,o=l;var p,g,m,f=class e extends h{constructor(e){super(),this.render=this.render.bind(this),this.renderLogo=this.renderLogo.bind(this),this.renderName=this.renderName.bind(this),this.renderDescs=this.renderDescs.bind(this),this.renderItems=this.renderItems.bind(this),this.renderButtons=this.renderButtons.bind(this),this.onClickButton=this.onClickButton.bind(this),this.html=e,this.$dom=null,this.render()}render(){var t,i;return d(this,e),t=o.element("cover",this.html),i=o.element(".wrap"),this.renderLogo(t,i),this.renderName(t,i),this.renderDescs(t,i),this.renderItems(t,i),this.renderButtons(t,i),this.$dom=o.element("#cover"),this.$dom.appendChild(i)}renderLogo(t,i){var s,r;if(d(this,e),s=t.querySelector("logo"))return r=s.getAttribute("src"),(s=o.element("img.logo")).setAttribute("src",r),i.appendChild(s)}renderName(t,i){var s,r,n,a,l;if(d(this,e),s=t.querySelector("name"))return n=s.innerText,l=null!=(a=s.getAttribute("version"))?a:"",s=o.element(".name",n),r=o.element(".version",l),s.appendChild(r),i.appendChild(s)}renderDescs(t,i){var s,r,n,a,l,h;if(d(this,e),(r=t.querySelectorAll("desc")).length){for(a=o.element("ul.descs"),l=0,h=r.length;l<h;l++)s=r[l],n=o.element("li",s.innerText),a.appendChild(n);return i.appendChild(a)}}renderItems(t,i){var s,r,n,a,l,h;if(d(this,e),(r=t.querySelectorAll("item")).length){for(a=o.element("ul.items"),l=0,h=r.length;l<h;l++)s=r[l],n=o.element("li",s.innerText),a.appendChild(n);return i.appendChild(a)}}renderButtons(t,i){var s,r,n,a,l,h,u,c;if(d(this,e),(n=t.querySelectorAll("button")).length){for(l=o.element("ul.buttons"),u=0,c=n.length;u<c;u++)r=n[u],a=o.element("li"),s=o.element("a",r.innerText),r.hasAttribute("active")&&(a.classList.add("active"),s.classList.add("active")),(h=r.getAttribute("href"))&&(s.setAttribute("href",h),s.addEventListener("click",this.onClickButton)),a.appendChild(s),l.appendChild(a);return i.appendChild(l)}}onClickButton(t){if(d(this,e),"#"===t.target.getAttribute("href")[0])return this.$dom.style.display="none"}},b=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};g=r,p=s,m=l;var v,y,k=class e extends p{constructor(e){super(),this.compile=this.compile.bind(this),this.render=this.render.bind(this),this.removeLv4=this.removeLv4.bind(this),this.setClass=this.setClass.bind(this),this.bindEvent=this.bindEvent.bind(this),this.onSelect=this.onSelect.bind(this),this.active=this.active.bind(this),this.scroll=this.scroll.bind(this),this.markdown=e,this.html=this.compile(this.markdown),this.$dom=this.render(this.html)}compile(t){return b(this,e),g(t)}render(t){var i;return b(this,e),(i=m.element("#summary")).innerHTML=t,this.removeLv4(i),this.setClass(i),this.bindEvent(i),i}removeLv4(t){var i,s,r,n,a;for(b(this,e),a=[],r=0,n=(s=t.querySelectorAll("#summary > ul > li > ul > li > ul > li > ul")).length;r<n;r++)i=s[r],a.push(i.parentNode.removeChild(i));return a}setClass(t){var i,s,r,n,a,l,h,o,u,c,d,p,g,m,f,v,y,k,x,w,S,$,C,A,L,_,E,q,P;for(b(this,e),s=0,l=(w=t.querySelectorAll("#summary > ul")).length;s<l;s++)w[s].classList.add("lv1");for(r=0,h=(S=t.querySelectorAll("#summary > ul > li > ul")).length;r<h;r++)S[r].classList.add("lv2");for(n=0,o=($=t.querySelectorAll("#summary > ul > li > ul > li > ul")).length;n<o;n++)(i=$[n]).classList.add("lv3");for(a=0,u=(C=t.querySelectorAll("#summary > ul > li")).length;a<u;a++)C[a].classList.add("lv1");for(f=0,c=(A=t.querySelectorAll("#summary > ul > li > ul > li")).length;f<c;f++)A[f].classList.add("lv2");for(v=0,d=(L=t.querySelectorAll("#summary > ul > li > ul > li > ul > li")).length;v<d;v++)(i=L[v]).classList.add("lv3");for(y=0,p=(_=t.querySelectorAll("#summary > ul > li > a")).length;y<p;y++)_[y].classList.add("lv1");for(k=0,g=(E=t.querySelectorAll("#summary > ul > li > ul > li > a")).length;k<g;k++)E[k].classList.add("lv2");for(P=[],x=0,m=(q=t.querySelectorAll("#summary > ul > li > ul > li > ul > li > a")).length;x<m;x++)i=q[x],P.push(i.classList.add("lv3"));return P}bindEvent(t){var i,s,r,n,a;for(b(this,e),a=[],r=0,n=(s=t.querySelectorAll("a")).length;r<n;r++)i=s[r],a.push(i.addEventListener("click",this.onSelect));return a}onSelect(t){var i;return b(this,e),"#"===(i=t.target.getAttribute("href"))[0]?this.emit("select",i.slice(1)):this.emit("reload",i),t.preventDefault()}active(t){var i,s,r,n;for(b(this,e),s=0,r=(n=document.querySelectorAll("#summary .active")).length;s<r;s++)n[s].classList.remove("active");if(i=document.querySelector(`#summary a[href="#${t}"]`))return i.classList.add("active"),i.parentNode.classList.add("active"),i.parentNode.parentNode.classList.add("active")}scroll(t){var i,s,r,n;if(b(this,e),s=document.querySelector("#side"),i=document.querySelector(`#summary a[href="#${t}"]`)){if(n=i.getBoundingClientRect().top,r=i.getBoundingClientRect().bottom,n+200>window.innerHeight)return s.scrollBy(0,n+200-window.innerHeight);if(r<200)return s.scrollBy(0,r-200)}}},x=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};v=s,y=l;var w,S,$,C,A,L,_=class e extends v{constructor(e){super(),this.parseSections=this.parseSections.bind(this),this.parseSection=this.parseSection.bind(this),this.parseHeading=this.parseHeading.bind(this),this.parseContent=this.parseContent.bind(this),this.render=this.render.bind(this),this.bindEvent=this.bindEvent.bind(this),this.input=this.input.bind(this),this.clear=this.clear.bind(this),this.match=this.match.bind(this),this.matchHeading=this.matchHeading.bind(this),this.matchContent=this.matchContent.bind(this),this.sortResults=this.sortResults.bind(this),this.showResults=this.showResults.bind(this),this.createResult=this.createResult.bind(this),this.hideResults=this.hideResults.bind(this),this.bindResultEvent=this.bindResultEvent.bind(this),this.select=this.select.bind(this),this.showClear=this.showClear.bind(this),this.hideClear=this.hideClear.bind(this),this.sections=this.parseSections(e),this.$dom=this.render(),this.$search=this.$dom,this.$input=this.$search.querySelector("input"),this.$clear=this.$search.querySelector(".clear"),this.$ul=this.$search.querySelector("ul")}parseSections(t){var i,s,r,n,a;for(x(this,e),a=[],s=0,r=t.length;s<r;s++)i=t[s],n=this.parseSection(i),a.push(n);return a}parseSection(t){return x(this,e),{id:t.id,heading:this.parseHeading(t),content:this.parseContent(t)}}parseHeading(t){var i;return x(this,e),(i=t.querySelector("h1, h2, h3, h4, h5, h6"))?i.innerText.trim():""}parseContent(t){var i,s;return x(this,e),(i=(s=(i=t.querySelector(".content").innerText.trim()).indexOf("\n")+1)?i.slice(s):"").replace(/(?:\n+)|(?:\s+)/g," ")}render(){var t;return x(this,e),(t=y.element("#search")).innerHTML='<div class="input-box">\n   <input autofocus spellcheck="false"/>\n   <div class="clear"></div>\n</div>\n<ul></ul>',this.bindEvent(t),t}bindEvent(t){var i,s;return x(this,e),s=t.querySelector("input"),i=t.querySelector(".clear"),s.addEventListener("input",this.input),i.addEventListener("click",this.clear)}input(t){var i,s,r,n,a,l,h;if(x(this,e),l=[],s=t.target.value.trim().replace("\\","\\\\")){for(i=0,r=(n=this.sections).length;i<r;i++)h=n[i],(a=this.match(h,s))&&(a.id=h.id,l.push(a));return this.sortResults(l),this.showResults(l),this.showClear(l)}return this.hideResults(),this.hideClear()}clear(t){return x(this,e),this.$dom.querySelector("input").value="",this.hideResults(),this.hideClear()}match(t,i){var s,r,n;return x(this,e),({heading:r,content:s}=t),(n=this.matchHeading(r,i))?{heading:n}:(n=this.matchContent(s,i))?{heading:r,content:n}:void 0}matchHeading(t,i){if(x(this,e),new RegExp(i,"i").test(t))return t=(t=t.replace(/</g,"&lt;")).replace(/>/g,"&gt;")}matchContent(t,i){var s,r,n,a,l;if(x(this,e),n=new RegExp(i,"i"),a=t.match(n))return l=(r=a.index)-20,s=r+i.length+20,l<0&&(l=0),s>t.length&&(s=t.length),t=t.slice(l,s),n=new RegExp(i,"ig"),t=(t=(t=t.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(n,e=>`<em>${e}</em>`)}sortResults(t){return x(this,e),t.sort((e,t)=>!e.content&&t.content?-1:!t.content&&e.content?1:0)}showResults(t){var i,s,r,n,a;for(x(this,e),s="",r=0,n=t.length;r<n;r++)a=t[r],s+=this.createResult(a);return(i=this.$dom.querySelector("ul")).innerHTML=s,this.bindResultEvent(i),i.style.display="block"}createResult(t){var i,s,r;return x(this,e),({id:r,heading:s,content:i}=t),i?`<li id="${r}">\n   <div class="heading">${s}</div>\n   <div class="content">${i}</div>\n</li>`:`<li id="${r}">\n   <div class="heading">${s}</div>\n</li>`}hideResults(){var t;return x(this,e),(t=this.$dom.querySelector("ul")).innerHTML="",t.style.display="none"}bindResultEvent(t){var i,s,r,n,a;for(x(this,e),a=[],r=0,n=(s=t.querySelectorAll("ul > li")).length;r<n;r++)i=s[r],a.push(i.addEventListener("click",this.select.bind(this,i)));return a}select(t){var i;return x(this,e),i=t.getAttribute("id"),this.emit("select",i)}showClear(){return x(this,e),this.$clear.style.display="block"}hideClear(){return x(this,e),this.$clear.style.display="none"}},E=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};$=s,w=c,S=f,A=k,C=_,L=l;var q=class e extends ${constructor(){super(),this.getPath=this.getPath.bind(this),this.getQuery=this.getQuery.bind(this),this.getFilePath=this.getFilePath.bind(this),this.load=this.load.bind(this),this.ready=this.ready.bind(this),this.render=this.render.bind(this),this.rehash=this.rehash.bind(this),this.formatPath=this.formatPath.bind(this),this.formatLinks=this.formatLinks.bind(this),this.onClickUrl=this.onClickUrl.bind(this),this.onClickPageInner=this.onClickPageInner.bind(this),this.onClickPageOuter=this.onClickPageOuter.bind(this),this.isOverMain=!1,this.$root=L.element("#root"),this.$side=L.element("#side"),this.$main=L.element("#main"),this.path=this.getPath(),this.query=this.getQuery(),this.filePath=this.getFilePath(),this.load(e=>{if(this.markdown=e,this.article=new w(e),this.cover=new S(this.article.cover),this.summary=new A(this.article.summary),this.search=new C(this.article.$sections),this.article.on("scroll",e=>{if(this.isOverMain)return this.rehash(e)}),this.article.on("scroll",e=>{if(this.isOverMain)return this.summary.scroll(e)}),this.article.on("scroll",e=>{if(this.isOverMain)return this.summary.active(e)}),this.cover.on("select",this.rehash),this.summary.on("select",this.rehash),this.summary.on("select",this.summary.active),this.summary.on("select",this.article.scroll),this.search.on("select",this.rehash),this.search.on("select",this.article.scroll),this.ready(),this.render(),this.query.id)return this.article.scroll(this.query.id),this.summary.scroll(this.query.id),this.summary.active(this.query.id)})}getPath(){var t;return E(this,e),(t=location.hash)?t.slice(1).replace(/\?.*$/,""):"/"}getQuery(){var t,i,s,r,n,a,l,h,o,u;if(E(this,e),h={},(r=(i=decodeURI(location.hash)).indexOf("?"))>-1)for(s=0,a=(t=i.slice(r+1).split("&")).length;s<a;s++)l=(n=(n=t[s]).split("="))[0],u=null==(o=n[1])||o,h[l]=u;return h}getFilePath(){var t;return E(this,e),(t=this.getPath())&&(t=t.slice(1)),Breeze.basePath&&(t=Breeze.basePath+"/"+t),t&&(t=t.replace(/\/{2,}/g,"/")),"/"===t[0]&&(t=t.slice(1)),""===t&&(t="README"),"/"===t[t.length-1]&&(t+="README"),t+".md"}load(t){var i;return E(this,e),(i=new XMLHttpRequest).open("GET",this.filePath,!0),i.send(null),i.onreadystatechange=(()=>{if(4===i.readyState&&200===i.status)return t(i.responseText)})}ready(){return E(this,e),this.$main.appendChild(this.article.$dom),this.$side.appendChild(this.search.$dom),this.$side.appendChild(this.summary.$dom),this.cover.html&&!this.query.id&&this.$root.appendChild(this.cover.$dom),this.$root.appendChild(this.$side),this.$root.appendChild(this.$main),this.$main.addEventListener("mouseenter",()=>this.isOverMain=!0),this.$main.addEventListener("mouseleave",()=>this.isOverMain=!1),this.$main.style.minHeight=window.innerHeight+"px",this.formatLinks(this.$root)}render(){var t;return E(this,e),(t=document.querySelector("body > #root"))?document.body.replaceChild(this.$root,t):document.body.appendChild(this.$root)}rehash(t){return E(this,e),t?history.replaceState(null,null,this.formatPath({id:t})):history.replaceState(null,null,this.formatPath())}formatPath(t={}){var i,s,r,n,a;for(s in E(this,e),i=[],n=Object.assign({},n,t))(a=n[s])?i.push(s+"="+a):i.push(s);return r=i.length?this.path+"?"+i.join("&"):this.path,location.hash&&(r="/#"+r),r}formatLinks(t){var i,s,r,n,a,l;for(E(this,e),l=[],n=0,a=(s=t.querySelectorAll("a")).length;n<a;n++)r=(i=s[n]).getAttribute("href"),/^(?:http)|(?:https)|(?:ftp):\/\//.test(r)?l.push(i.addEventListener("click",this.onClickUrl)):"#"===r[0]?l.push(i.addEventListener("click",this.onClickPageInner)):l.push(i.addEventListener("click",this.onClickPageOuter));return l}onClickUrl(t){return E(this,e),window.open(t.target.getAttribute("href")),t.preventDefault()}onClickPageInner(t){var i;return E(this,e),i=t.target.getAttribute("href").slice(1),this.rehash(i),t.preventDefault()}onClickPageOuter(t){return E(this,e),this.emit("reload",t.target.getAttribute("href")),t.preventDefault()}};return t(function(e){var t,i,s;t=q,s={},i=(()=>{var e,r;return e=location.href,s[e]?(r=s[e]).render():(r=new t,s[e]=r,r.on("reload",e=>(e=(e="#/"+e).replace(/\/+/,"/"),history.pushState(null,null,e),i())))}),window.addEventListener("load",i),window.addEventListener("hashchange",i)})}();

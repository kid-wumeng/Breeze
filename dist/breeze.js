var Breeze=function(){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var i,s,n=class{constructor(){this.on=this.on.bind(this),this.emit=this.emit.bind(this),this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e,...t){var i,s,n,r;for(s=0,n=(i=null!=(r=this.events[e])?r:[]).length;s<n;s++)(0,i[s])(...t);return this}},r=t(function(t,i){!function(e){var i={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:m,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:m,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function s(e){this.tokens=[],this.tokens.links={},this.options=e||b.defaults,this.rules=i.normal,this.options.gfm&&(this.options.tables?this.rules=i.tables:this.rules=i.gfm)}i._label=/(?:\\[\[\]]|[^\[\]])+/,i._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,i.def=c(i.def).replace("label",i._label).replace("title",i._title).getRegex(),i.bullet=/(?:[*+-]|\d+\.)/,i.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,i.item=c(i.item,"gm").replace(/bull/g,i.bullet).getRegex(),i.list=c(i.list).replace(/bull/g,i.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+i.def.source+")").getRegex(),i._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",i.html=c(i.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,i._tag).getRegex(),i.paragraph=c(i.paragraph).replace("hr",i.hr).replace("heading",i.heading).replace("lheading",i.lheading).replace("tag","<"+i._tag).getRegex(),i.blockquote=c(i.blockquote).replace("paragraph",i.paragraph).getRegex(),i.normal=f({},i),i.gfm=f({},i.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),i.gfm.paragraph=c(i.paragraph).replace("(?!","(?!"+i.gfm.fences.source.replace("\\1","\\2")+"|"+i.list.source.replace("\\1","\\3")+"|").getRegex(),i.tables=f({},i.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),s.rules=i,s.lex=function(e,t){return new s(t).lex(e)},s.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},s.prototype.token=function(e,t){var s,n,r,a,l,h,o,u,c,p;for(e=e.replace(/^ +$/gm,"");e;)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]||""});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(t&&(r=this.rules.nptable.exec(e))){for(e=e.substring(r[0].length),h={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].split(/ *\| */);this.tokens.push(h)}else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,t),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),a=r[2],this.tokens.push({type:"list_start",ordered:a.length>1}),s=!1,p=(r=r[0].match(this.rules.item)).length,u=0;u<p;u++)o=(h=r[u]).length,~(h=h.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(o-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+o+"}","gm"),"")),this.options.smartLists&&u!==p-1&&(a===(l=i.bullet.exec(r[u+1])[0])||a.length>1&&l.length>1||(e=r.slice(u+1).join("\n")+e,u=p-1)),n=s||/\n\n(?!\s*$)/.test(h),u!==p-1&&(s="\n"===h.charAt(h.length-1),n||(n=s)),this.tokens.push({type:n?"loose_item_start":"list_item_start"}),this.token(h,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:r[0]});else if(t&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),r[3]&&(r[3]=r[3].substring(1,r[3].length-1)),c=r[1].toLowerCase(),this.tokens.links[c]||(this.tokens.links[c]={href:r[2],title:r[3]});else if(t&&(r=this.rules.table.exec(e))){for(e=e.substring(r[0].length),h={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(h)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(t&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:m,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function r(e,t){if(this.options=t||b.defaults,this.links=e,this.rules=n.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=n.breaks:this.rules=n.gfm:this.options.pedantic&&(this.rules=n.pedantic)}function a(e){this.options=e||{}}function l(){}function h(e){this.tokens=[],this.token=null,this.options=e||b.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function c(e,t){return e=e.source,t=t||"",{replace:function(t,i){return i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,i),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t){return d[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?d[" "+e]=e+"/":d[" "+e]=e.replace(/[^/]*$/,"")),e=d[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}n._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,n._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,n.autolink=c(n.autolink).replace("scheme",n._scheme).replace("email",n._email).getRegex(),n._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,n.link=c(n.link).replace("inside",n._inside).replace("href",n._href).getRegex(),n.reflink=c(n.reflink).replace("inside",n._inside).getRegex(),n.normal=f({},n),n.pedantic=f({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),n.gfm=f({},n.normal,{escape:c(n.escape).replace("])","~|])").getRegex(),url:c(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",n._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(n.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),n.breaks=f({},n.gfm,{br:c(n.br).replace("{2,}","*").getRegex(),text:c(n.gfm.text).replace("{2,}","*").getRegex()}),r.rules=n,r.output=function(e,t,i){return new r(t,i).output(e)},r.prototype.output=function(e){for(var t,i,s,n,r="";e;)if(n=this.rules.escape.exec(e))e=e.substring(n[0].length),r+=n[1];else if(n=this.rules.autolink.exec(e))e=e.substring(n[0].length),s="@"===n[2]?"mailto:"+(i=o(this.mangle(n[1]))):i=o(n[1]),r+=this.renderer.link(s,null,i);else if(this.inLink||!(n=this.rules.url.exec(e))){if(n=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(n[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(n[0])&&(this.inLink=!1),e=e.substring(n[0].length),r+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):o(n[0]):n[0];else if(n=this.rules.link.exec(e))e=e.substring(n[0].length),this.inLink=!0,r+=this.outputLink(n,{href:n[2],title:n[3]}),this.inLink=!1;else if((n=this.rules.reflink.exec(e))||(n=this.rules.nolink.exec(e))){if(e=e.substring(n[0].length),t=(n[2]||n[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){r+=n[0].charAt(0),e=n[0].substring(1)+e;continue}this.inLink=!0,r+=this.outputLink(n,t),this.inLink=!1}else if(n=this.rules.strong.exec(e))e=e.substring(n[0].length),r+=this.renderer.strong(this.output(n[2]||n[1]));else if(n=this.rules.em.exec(e))e=e.substring(n[0].length),r+=this.renderer.em(this.output(n[2]||n[1]));else if(n=this.rules.code.exec(e))e=e.substring(n[0].length),r+=this.renderer.codespan(o(n[2].trim(),!0));else if(n=this.rules.br.exec(e))e=e.substring(n[0].length),r+=this.renderer.br();else if(n=this.rules.del.exec(e))e=e.substring(n[0].length),r+=this.renderer.del(this.output(n[1]));else if(n=this.rules.text.exec(e))e=e.substring(n[0].length),r+=this.renderer.text(o(this.smartypants(n[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else n[0]=this.rules._backpedal.exec(n[0])[0],e=e.substring(n[0].length),"@"===n[2]?s="mailto:"+(i=o(n[0])):(i=o(n[0]),s="www."===n[1]?"http://"+i:i),r+=this.renderer.link(s,null,i);return r},r.prototype.outputLink=function(e,t){var i=o(t.href),s=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,s,this.output(e[1])):this.renderer.image(i,s,o(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,i="",s=e.length,n=0;n<s;n++)t=e.charCodeAt(n),Math.random()>.5&&(t="x"+t.toString(16)),i+="&#"+t+";";return i},a.prototype.code=function(e,t,i){if(this.options.highlight){var s=this.options.highlight(e,t);null!=s&&s!==e&&(i=!0,e=s)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(i?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(i?e:o(e,!0))+"\n</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,i){return"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t){var i=t?"ol":"ul";return"<"+i+">\n"+e+"</"+i+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' style="text-align:'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,i){if(this.options.sanitize){try{var s=decodeURIComponent(u(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return i}if(0===s.indexOf("javascript:")||0===s.indexOf("vbscript:")||0===s.indexOf("data:"))return i}this.options.baseUrl&&!g.test(e)&&(e=p(this.options.baseUrl,e));var n='<a href="'+e+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>"},a.prototype.image=function(e,t,i){this.options.baseUrl&&!g.test(e)&&(e=p(this.options.baseUrl,e));var s='<img src="'+e+'" alt="'+i+'"';return t&&(s+=' title="'+t+'"'),s+=this.options.xhtml?"/>":">"},a.prototype.text=function(e){return e},l.prototype.strong=l.prototype.em=l.prototype.codespan=l.prototype.del=l.prototype.text=function(e){return e},l.prototype.link=l.prototype.image=function(e,t,i){return""+i},l.prototype.br=function(){return""},h.parse=function(e,t){return new h(t).parse(e)},h.prototype.parse=function(e){this.inline=new r(e.links,this.options),this.inlineText=new r(e.links,f({},this.options,{renderer:new l})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},h.prototype.next=function(){return this.token=this.tokens.pop()},h.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},h.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},h.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,i,s,n="",r="";for(i="",e=0;e<this.token.header.length;e++)i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(n+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],i="",s=0;s<t.length;s++)i+=this.renderer.tablecell(this.inline.output(t[s]),{header:!1,align:this.token.align[s]});r+=this.renderer.tablerow(i)}return this.renderer.table(n,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var a=this.token.ordered;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,a);case"list_item_start":for(r="";"list_item_end"!==this.next().type;)r+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(r);case"loose_item_start":for(r="";"list_item_end"!==this.next().type;)r+=this.tok();return this.renderer.listitem(r);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var d={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function f(e){for(var t,i,s=1;s<arguments.length;s++)for(i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function b(e,t,i){if(void 0===e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"==typeof t){i||(i=t,t=null);var n,r,a=(t=f({},b.defaults,t||{})).highlight,l=0;try{n=s.lex(e,t)}catch(e){return i(e)}r=n.length;var u=function(e){if(e)return t.highlight=a,i(e);var s;try{s=h.parse(n,t)}catch(t){e=t}return t.highlight=a,e?i(e):i(null,s)};if(!a||a.length<3)return u();if(delete t.highlight,!r)return u();for(;l<n.length;l++)!function(e){"code"!==e.type?--r||u():a(e.text,e.lang,function(t,i){return t?u(t):null==i||i===e.text?--r||u():(e.text=i,e.escaped=!0,void(--r||u()))})}(n[l])}else try{return t&&(t=f({},b.defaults,t)),h.parse(s.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(t||b.defaults).silent)return"<p>An error occurred:</p><pre>"+o(e.message+"",!0)+"</pre>";throw e}}m.exec=m,b.options=b.setOptions=function(e){return f(b.defaults,e),b},b.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new a,xhtml:!1,baseUrl:null},b.Parser=h,b.parser=h.parse,b.Renderer=a,b.TextRenderer=l,b.Lexer=s,b.lexer=s.lex,b.InlineLexer=r,b.inlineLexer=r.output,b.parse=b,t.exports=b}(e||"undefined"!=typeof window&&window)}),a=t(function(t){var i="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},s=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,s=i.Prism={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof n?new n(e.type,s.util.encode(e.content),e.alias):"Array"===s.util.type(e)?e.map(s.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){switch(s.util.type(e)){case"Object":var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=s.util.clone(e[i]));return t;case"Array":return e.map(function(e){return s.util.clone(e)})}return e}},languages:{extend:function(e,t){var i=s.util.clone(s.languages[e]);for(var n in t)i[n]=t[n];return i},insertBefore:function(e,t,i,n){var r=(n=n||s.languages)[e];if(2==arguments.length){for(var a in i=arguments[1])i.hasOwnProperty(a)&&(r[a]=i[a]);return r}var l={};for(var h in r)if(r.hasOwnProperty(h)){if(h==t)for(var a in i)i.hasOwnProperty(a)&&(l[a]=i[a]);l[h]=r[h]}return s.languages.DFS(s.languages,function(t,i){i===n[e]&&t!=e&&(this[t]=l)}),n[e]=l},DFS:function(e,t,i,n){for(var r in n=n||{},e)e.hasOwnProperty(r)&&(t.call(e,r,e[r],i||r),"Object"!==s.util.type(e[r])||n[s.util.objId(e[r])]?"Array"!==s.util.type(e[r])||n[s.util.objId(e[r])]||(n[s.util.objId(e[r])]=!0,s.languages.DFS(e[r],t,r,n)):(n[s.util.objId(e[r])]=!0,s.languages.DFS(e[r],t,null,n)))}},plugins:{},highlightAll:function(e,t){s.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,i){var n={callback:i,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",n);for(var r,a=n.elements||e.querySelectorAll(n.selector),l=0;r=a[l++];)s.highlightElement(r,!0===t,n.callback)},highlightElement:function(t,n,r){for(var a,l,h=t;h&&!e.test(h.className);)h=h.parentNode;h&&(a=(h.className.match(e)||[,""])[1].toLowerCase(),l=s.languages[a]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,t.parentNode&&(h=t.parentNode,/pre/i.test(h.nodeName)&&(h.className=h.className.replace(e,"").replace(/\s+/g," ")+" language-"+a));var o={element:t,language:a,grammar:l,code:t.textContent};if(s.hooks.run("before-sanity-check",o),!o.code||!o.grammar)return o.code&&(s.hooks.run("before-highlight",o),o.element.textContent=o.code,s.hooks.run("after-highlight",o)),void s.hooks.run("complete",o);if(s.hooks.run("before-highlight",o),n&&i.Worker){var u=new Worker(s.filename);u.onmessage=function(e){o.highlightedCode=e.data,s.hooks.run("before-insert",o),o.element.innerHTML=o.highlightedCode,r&&r.call(o.element),s.hooks.run("after-highlight",o),s.hooks.run("complete",o)},u.postMessage(JSON.stringify({language:o.language,code:o.code,immediateClose:!0}))}else o.highlightedCode=s.highlight(o.code,o.grammar,o.language),s.hooks.run("before-insert",o),o.element.innerHTML=o.highlightedCode,r&&r.call(t),s.hooks.run("after-highlight",o),s.hooks.run("complete",o)},highlight:function(e,t,i){var r=s.tokenize(e,t);return n.stringify(s.util.encode(r),i)},matchGrammar:function(e,t,i,n,r,a,l){var h=s.Token;for(var o in i)if(i.hasOwnProperty(o)&&i[o]){if(o==l)return;var u=i[o];u="Array"===s.util.type(u)?u:[u];for(var c=0;c<u.length;++c){var p=u[c],d=p.inside,g=!!p.lookbehind,m=!!p.greedy,f=0,b=p.alias;if(m&&!p.pattern.global){var y=p.pattern.toString().match(/[imuy]*$/)[0];p.pattern=RegExp(p.pattern.source,y+"g")}p=p.pattern||p;for(var v=n,x=r;v<t.length;x+=t[v].length,++v){var k=t[v];if(t.length>e.length)return;if(!(k instanceof h)){p.lastIndex=0;var w=1;if(!(C=p.exec(k))&&m&&v!=t.length-1){if(p.lastIndex=x,!(C=p.exec(e)))break;for(var S=C.index+(g?C[1].length:0),$=C.index+C[0].length,A=v,_=x,E=t.length;A<E&&(_<$||!t[A].type&&!t[A-1].greedy);++A)S>=(_+=t[A].length)&&(++v,x=_);if(t[v]instanceof h||t[A-1].greedy)continue;w=A-v,k=e.slice(x,_),C.index-=x}if(C){g&&(f=C[1]?C[1].length:0);$=(S=C.index+f)+(C=C[0].slice(f)).length;var C,L=k.slice(0,S),q=k.slice($),R=[v,w];L&&(++v,x+=L.length,R.push(L));var F=new h(o,d?s.tokenize(C,d):C,b,C,m);if(R.push(F),q&&R.push(q),Array.prototype.splice.apply(t,R),1!=w&&s.matchGrammar(e,t,i,v,x,!0,o),a)break}else if(a)break}}}}},tokenize:function(e,t,i){var n=[e],r=t.rest;if(r){for(var a in r)t[a]=r[a];delete t.rest}return s.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var i=s.hooks.all;i[e]=i[e]||[],i[e].push(t)},run:function(e,t){var i=s.hooks.all[e];if(i&&i.length)for(var n,r=0;n=i[r++];)n(t)}}},n=s.Token=function(e,t,i,s,n){this.type=e,this.content=t,this.alias=i,this.length=0|(s||"").length,this.greedy=!!n};if(n.stringify=function(e,t,i){if("string"==typeof e)return e;if("Array"===s.util.type(e))return e.map(function(i){return n.stringify(i,t,e)}).join("");var r={type:e.type,content:n.stringify(e.content,t,i),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:i};if(e.alias){var a="Array"===s.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(r.classes,a)}s.hooks.run("wrap",r);var l=Object.keys(r.attributes).map(function(e){return e+'="'+(r.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+(l?" "+l:"")+">"+r.content+"</"+r.tag+">"},!i.document)return i.addEventListener?(s.disableWorkerMessageHandler||i.addEventListener("message",function(e){var t=JSON.parse(e.data),n=t.language,r=t.code,a=t.immediateClose;i.postMessage(s.highlight(r,s.languages[n],n)),a&&i.close()},!1),i.Prism):i.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(s.filename=r.src,s.manual||r.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(s.highlightAll):window.setTimeout(s.highlightAll,16):document.addEventListener("DOMContentLoaded",s.highlightAll))),i.Prism}();t.exports&&(t.exports=s),void 0!==e&&(e.Prism=s),s.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/(^|[^\\])["']/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},s.languages.markup.tag.inside["attr-value"].inside.entity=s.languages.markup.entity,s.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),s.languages.xml=s.languages.markup,s.languages.html=s.languages.markup,s.languages.mathml=s.languages.markup,s.languages.svg=s.languages.markup,s.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^{}\s][^{};]*?(?=\s*\{)/,string:{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},s.languages.css.atrule.inside.rest=s.util.clone(s.languages.css),s.languages.markup&&(s.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:!0,inside:s.languages.css,alias:"language-css",greedy:!0}}),s.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:s.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:s.languages.css}},alias:"language-css"}},s.languages.markup.tag)),s.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},s.languages.javascript=s.languages.extend("clike",{keyword:/\b(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),s.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[[^\]\r\n]+]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=\s*(?:function\b|(?:\([^()]*\)|[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/i,alias:"function"}}),s.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:s.languages.javascript}},string:/[\s\S]+/}}}),s.languages.markup&&s.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:s.languages.javascript,alias:"language-javascript",greedy:!0}}),s.languages.js=s.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(t){for(var i,n=t.getAttribute("data-src"),r=t,a=/\blang(?:uage)?-(?!\*)(\w+)\b/i;r&&!a.test(r.className);)r=r.parentNode;if(r&&(i=(t.className.match(a)||[,""])[1]),!i){var l=(n.match(/\.(\w+)$/)||[,""])[1];i=e[l]||l}var h=document.createElement("code");h.className="language-"+i,t.textContent="",h.textContent="Loading…",t.appendChild(h);var o=new XMLHttpRequest;o.open("GET",n,!0),o.onreadystatechange=function(){4==o.readyState&&(o.status<400&&o.responseText?(h.textContent=o.responseText,s.highlightElement(h)):o.status>=400?h.textContent="✖ Error "+o.status+" while fetching file: "+o.statusText:h.textContent="✖ Error: File does not exist or is empty")},o.send(null)})},document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight))}),l=class{constructor(e){this.parseNodes=this.parseNodes.bind(this),this.parseNode=this.parseNode.bind(this),this.parseDeep=this.parseDeep.bind(this),this.parseTag=this.parseTag.bind(this),this.parseAttr=this.parseAttr.bind(this),this.parseText=this.parseText.bind(this),this.parseTree=this.parseTree.bind(this),this.compile=this.compile.bind(this),this.jade=e,this.html="",this.compile(this.parseTree(this.parseNodes()))}parseNodes(){var e,t,i,s,n,r;for(r=[],e=0,t=(s=this.jade.split(/\n+/g)).length;e<t;e++)i=s[e],/^\s*$/.test(i)||(n=this.parseNode(i),r.push(n));return r}parseNode(e){var t,i,s,n,r;return({deep:i,rest:s}=this.parseDeep(e)),({tag:n,rest:s}=this.parseTag(s)),({attr:t,rest:s}=this.parseAttr(s)),({text:r,rest:s}=this.parseText(s)),{deep:i,tag:n,attr:t,text:r}}parseDeep(e){var t,i,s;return t=0,i=/^\s+/,s=e.replace(i,e=>(t=e.length,"")),{deep:t,rest:s}}parseTag(e){var t,i;if(t="",i=/^([A-Za-z0-9_\-]+)\s*/,e=e.replace(i,(e,i)=>(t=i,"")),t)return{tag:t,rest:e};throw`Unknown jade-like syntax: ${this._line}`}parseAttr(e){var t,i;return t="",i=/^\(([^)]*)\)/,e=e.replace(i,(e,i)=>(t=i.trim(),"")),{attr:t,rest:e}}parseText(e){return{text:e.trim(),rest:e=""}}parseTree(e){var t,i,s,n,r,a;for(a=r={},t=-1,i=0,s=e.length;i<s;i++)if((n=e[i]).deep>t)null==a.children&&(a.children=[]),a.children.push(n),n.parent=a,a=n,t=n.deep;else if(n.deep===t)a.parent.children.push(n),n.parent=a;else if(n.deep<t){for(;n.deep<=a.deep;)a=a.parent;a.children.push(n),n.parent=a,a=n,t=n.deep}return r}compile(e){var t;return(t=(e=>{var i,s,n,r,a,l,h;if(({tag:l,attr:i,text:h,children:n}=e),!n)return this.html+=`<${l} ${i}>${h}</${l}>\n`;for(l&&(this.html+=`<${l} ${i}>\n`),r=0,a=n.length;r<a;r++)s=n[r],t(s);return l?this.html+=`</${l}>\n`:void 0}))(e)}},h=t(function(e){var t,i,s,h,o=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};s=a,i=n,t=l,(h=r).setOptions({gfm:!0,tables:!0,highlight:(e,t)=>(t=s.languages[t])?s.highlight(e,t):e}),e.exports=class e extends i{constructor(e){super(),this.compile=this.compile.bind(this),this.parseJade=this.parseJade.bind(this),this.parseSections=this.parseSections.bind(this),this.formatHeading=this.formatHeading.bind(this),this.trimFirst=this.trimFirst.bind(this),this.compileSections=this.compileSections.bind(this),this.compileSection=this.compileSection.bind(this),this.parseContentAndExample=this.parseContentAndExample.bind(this),this.parseExamples=this.parseExamples.bind(this),this.delExamples=this.delExamples.bind(this),this.parseHeading=this.parseHeading.bind(this),this.getOrder=this.getOrder.bind(this),this.createSummary=this.createSummary.bind(this),this.createSummaryItem=this.createSummaryItem.bind(this),this.getID=this.getID.bind(this),this.render=this.render.bind(this),this.wrapParams=this.wrapParams.bind(this),this.bindScrollEvent=this.bindScrollEvent.bind(this),this.getSectionStats=this.getSectionStats.bind(this),this.scroll=this.scroll.bind(this),this.markdown=e,this.html="",this.lastOrder="0",this.sections=[],this.$dom=null,this.$sections=[],this.summary="",this.lastID="",this.compile(),this.render(),this.$sections=this.$dom.querySelectorAll("article > section"),this.createSummary(this.sections)}compile(){var t,i,s;return o(this,e),i=this.parseJade(this.markdown),s=this.parseSections(i),this.trimFirst(s),({html:t,sections:s}=this.compileSections(s)),this.html=t,this.sections=s}parseJade(i){var s;return o(this,e),s=/<jade>((?:.|\n)*?)<\/jade>/g,i.replace(s,(e,i)=>{return new t(i).html})}parseSections(t){var i,s,n,r,a,l,h,u,c,p;for(o(this,e),p=[],u=[],s=!1,a=0,l=(i=t.split("\n")).length;a<l;a++)h=i[a],n=/^\s*```/.test(h),r=/^\s*#{1,6}/.test(h),n&&(s=!s),r&&!s&&(c=u.join("\n"),p.push(c),u=[],h=this.formatHeading(h)),u.push(h);return c=u.join("\n"),p.push(c),p}formatHeading(t){var i,s;return o(this,e),`<h${i=(s=(t=t.trim()).match(/^(#+)\s*(.*)$/))[1].length}>${s[2]}</h${i}>`}trimFirst(t){if(o(this,e),null!=t[0]&&t[0].match(/^(?:\s|\n)*$/))return t.shift()}compileSections(t){var i;return o(this,e),i="",t=t.map(e=>{var t,s,n;return({section:e,heading:n,content:t,example:s}=this.compileSection(e)),i+=e,{heading:n,content:t,example:s}}),{html:i,sections:t}}compileSection(t){var i,s,n,r,a,l,u,c,p;return o(this,e),({content:i,example:s}=this.parseContentAndExample(t)),n=this.parseHeading(i),i=h(i),s=h(s),r=null!=(l=null!=n?n.lv:void 0)?l:"",a=null!=(u=null!=n?n.order:void 0)?u:"",p=null!=(c=null!=n?n.text:void 0)?c:"",{section:t=`<section lv="${r}" id="${this.getID(a,p)}">\n   <content>${i}</content>\n   <example>${s}</example>\n</section>`,heading:n,content:i,example:s}}parseContentAndExample(t){var i,s;return o(this,e),({examples:i,indexes:s}=this.parseExamples(t)),{content:this.delExamples(t,s),example:i.join("")}}parseExamples(t){var i,s,n,r,a,l,h,u,c;for(o(this,e),u=[],a=[],n=[],l=/(<example>)|(<\/example>)/g;h=l.exec(t);)r=h.index,"<example>"===h[0]?u.push(r):(c=u.pop(),i=r+"</example>".length,0===u.length&&(s=(s=t.slice(c,i)).replace(/(<example>)|(<\/example>)/g,""),n.push(s),a.push(c),a.push(i)));return{examples:n,indexes:a}}delExamples(t,i=[]){var s,n,r;for(o(this,e),n="",i.unshift(-1);i.length>1;)r=i.shift(),s=i.shift(),n+=t.slice(r+1,s);return r=i.shift(),n+=t.slice(r+1)}parseHeading(t){var i,s;return o(this,e),(s=t.match(/^<h([1-6])>(.*)<\/h[1-6]>$/m))?{lv:i=parseInt(s[1]),order:this.getOrder(i),text:s[2]}:null}getOrder(t){var i,s,n,r,a,l;for(o(this,e),r=null!=(l=(a=this.lastOrder.split("."))[i=t-1])?l:"0",r=parseInt(r),r+=1,a[i]=r,a=a.slice(0,i+1),i=s=0,n=a.length;s<n;i=++s)a[i],a[i]||(a[i]="0");return this.lastOrder=a.join(".")}createSummary(t){var i,s,n,r,a;for(o(this,e),r=[],s=0,n=t.length;s<n;s++)a=t[s],({heading:i}=a),i&&i.lv<=3?r.push(this.summary+=this.createSummaryItem(i)):r.push(void 0);return r}createSummaryItem(t){var i,s,n,r,a;for(o(this,e),({lv:s,order:n,text:a}=t),i=s,r="";i>1;)r+="  ",i--;return`${r}* [${a}](#${this.getID(n,a)})\n`}getID(t,i=""){return o(this,e),(i=i.replace(/\s+/g,"-"))?t+"-"+i:t}render(){return o(this,e),this.$dom=document.createElement("article"),this.$dom.innerHTML=this.html,this.wrapParams(),this.bindScrollEvent()}wrapParams(){var t,i,s,n,r,a,l,h,u,c,p,d,g,m,f,b,y,v,x,k;for(o(this,e),k=[],u=0,d=(l=this.$dom.querySelectorAll("params")).length;u<d;u++){for(a=l[u],r=document.createElement("params"),c=0,g=(y=a.querySelectorAll("params > item")).length;c<g;c++){for(i=y[c],n=document.createElement("item"),s=document.createElement("left"),h=document.createElement("right"),p=0,m=(v=i.querySelectorAll("item > :not(desc):not(br)")).length;p<m;p++)t=v[p],s.appendChild(t);for(b=0,f=(x=i.querySelectorAll("item > desc")).length;b<f;b++)t=x[b],h.appendChild(t);n.appendChild(s),n.appendChild(h),r.appendChild(n)}k.push(a.parentNode.replaceChild(r,a))}return k}bindScrollEvent(){return o(this,e),window.addEventListener("scroll",()=>{var e,t,i,s,n;for(e=i=0,s=(n=this.getSectionStats()).length;i<s&&!(n[e].top>0);e=++i);if(t=n[e-1].id,this.lastID!==t)return this.lastID=t,this.emit("scroll",t)})}getSectionStats(){var t,i,s,n,r,a,l;for(o(this,e),a=[],s=0,n=(r=this.$sections).length;s<n;s++)i=(t=r[s]).getAttribute("id"),l=t.getBoundingClientRect().top,a.push({id:i,top:l});return a}scroll(t){var i,s;return o(this,e),(i=this.$dom.querySelector(`section[id="${t}"]`))?(s=i.getBoundingClientRect().top,window.scrollBy(0,s)):window.scrollTo(0,0)}}}),o=(t(function(e,t){t.id=((e,t="")=>(t=t.replace(/\s+/g,"-"))?e+"-"+t:e)}).id,function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")});s=r,i=n;var u,c=class e extends i{constructor(e){super(),this.compile=this.compile.bind(this),this.render=this.render.bind(this),this.removeLv4=this.removeLv4.bind(this),this.setClass=this.setClass.bind(this),this.bindEvent=this.bindEvent.bind(this),this.onSelect=this.onSelect.bind(this),this.active=this.active.bind(this),this.scroll=this.scroll.bind(this),this.markdown=e,this.html=this.compile(this.markdown),this.$dom=this.render(this.html)}compile(t){return o(this,e),s(t)}render(t){var i;return o(this,e),(i=document.createElement("summary")).innerHTML=t,this.removeLv4(i),this.setClass(i),this.bindEvent(i),i}removeLv4(t){var i,s,n,r,a;for(o(this,e),a=[],n=0,r=(s=t.querySelectorAll("summary > ul > li > ul > li > ul > li > ul")).length;n<r;n++)i=s[n],a.push(i.parentNode.removeChild(i));return a}setClass(t){var i,s,n,r,a,l,h,u,c,p,d,g,m,f,b,y,v,x,k,w,S,$,A,_,E,C,L,q,R;for(o(this,e),s=0,l=(w=t.querySelectorAll("summary > ul")).length;s<l;s++)w[s].classList.add("lv1");for(n=0,h=(S=t.querySelectorAll("summary > ul > li > ul")).length;n<h;n++)S[n].classList.add("lv2");for(r=0,u=($=t.querySelectorAll("summary > ul > li > ul > li > ul")).length;r<u;r++)(i=$[r]).classList.add("lv3");for(a=0,c=(A=t.querySelectorAll("summary > ul > li")).length;a<c;a++)A[a].classList.add("lv1");for(b=0,p=(_=t.querySelectorAll("summary > ul > li > ul > li")).length;b<p;b++)_[b].classList.add("lv2");for(y=0,d=(E=t.querySelectorAll("summary > ul > li > ul > li > ul > li")).length;y<d;y++)(i=E[y]).classList.add("lv3");for(v=0,g=(C=t.querySelectorAll("summary > ul > li > a")).length;v<g;v++)C[v].classList.add("lv1");for(x=0,m=(L=t.querySelectorAll("summary > ul > li > ul > li > a")).length;x<m;x++)L[x].classList.add("lv2");for(R=[],k=0,f=(q=t.querySelectorAll("summary > ul > li > ul > li > ul > li > a")).length;k<f;k++)i=q[k],R.push(i.classList.add("lv3"));return R}bindEvent(t){var i,s,n,r,a;for(o(this,e),a=[],n=0,r=(s=t.querySelectorAll("a")).length;n<r;n++)i=s[n],a.push(i.addEventListener("click",this.onSelect));return a}onSelect(t){var i;return o(this,e),"#"===(i=t.target.getAttribute("href"))[0]?this.emit("select",i.slice(1)):this.emit("reload",i),t.preventDefault()}active(t){var i,s,n,r;for(o(this,e),s=0,n=(r=document.querySelectorAll("summary .active")).length;s<n;s++)r[s].classList.remove("active");if(i=document.querySelector(`summary a[href="#${t}"]`))return i.classList.add("active"),i.parentNode.classList.add("active"),i.parentNode.parentNode.classList.add("active")}scroll(t){var i,s,n,r;if(o(this,e),s=document.querySelector("side"),i=document.querySelector(`summary a[href="#${t}"]`)){if(r=i.getBoundingClientRect().top,n=i.getBoundingClientRect().bottom,r+200>window.innerHeight)return s.scrollBy(0,r+200-window.innerHeight);if(n<200)return s.scrollBy(0,n-200)}}},p=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};u=n;var d,g,m,f,b=class e extends u{constructor(e){super(),this.parseSections=this.parseSections.bind(this),this.parseSection=this.parseSection.bind(this),this.parseHeading=this.parseHeading.bind(this),this.parseContent=this.parseContent.bind(this),this.render=this.render.bind(this),this.bindEvent=this.bindEvent.bind(this),this.input=this.input.bind(this),this.clear=this.clear.bind(this),this.match=this.match.bind(this),this.matchHeading=this.matchHeading.bind(this),this.matchContent=this.matchContent.bind(this),this.sortResults=this.sortResults.bind(this),this.showResults=this.showResults.bind(this),this.createResult=this.createResult.bind(this),this.hideResults=this.hideResults.bind(this),this.bindResultEvent=this.bindResultEvent.bind(this),this.select=this.select.bind(this),this.showClear=this.showClear.bind(this),this.hideClear=this.hideClear.bind(this),this.sections=this.parseSections(e),this.$dom=this.render(),this.$search=this.$dom,this.$input=this.$search.querySelector("input"),this.$clear=this.$search.querySelector("clear"),this.$ul=this.$search.querySelector("ul")}parseSections(t){var i,s,n,r,a;for(p(this,e),a=[],s=0,n=t.length;s<n;s++)i=t[s],r=this.parseSection(i),a.push(r);return a}parseSection(t){return p(this,e),{id:t.id,heading:this.parseHeading(t),content:this.parseContent(t)}}parseHeading(t){var i;return p(this,e),(i=t.querySelector("h1, h2, h3, h4, h5, h6"))?i.innerText.trim():""}parseContent(t){var i,s;return p(this,e),(i=(s=(i=t.querySelector("content").innerText.trim()).indexOf("\n")+1)?i.slice(s):"").replace(/(?:\n+)|(?:\s+)/g," ")}render(){var t;return p(this,e),(t=document.createElement("search")).innerHTML='<input-box>\n   <input autofocus spellcheck="false"/>\n   <clear/>\n</input-box>\n<ul></ul>',this.bindEvent(t),t}bindEvent(t){var i,s;return p(this,e),s=t.querySelector("input"),i=t.querySelector("clear"),s.addEventListener("input",this.input),i.addEventListener("click",this.clear)}input(t){var i,s,n,r,a,l,h;if(p(this,e),l=[],s=t.target.value.trim().replace("\\","\\\\")){for(i=0,n=(r=this.sections).length;i<n;i++)h=r[i],(a=this.match(h,s))&&(a.id=h.id,l.push(a));return this.sortResults(l),this.showResults(l),this.showClear(l)}return this.hideResults(),this.hideClear()}clear(t){return p(this,e),this.$dom.querySelector("input").value="",this.hideResults(),this.hideClear()}match(t,i){var s,n,r;return p(this,e),({heading:n,content:s}=t),(r=this.matchHeading(n,i))?{heading:r}:(r=this.matchContent(s,i))?{heading:n,content:r}:void 0}matchHeading(t,i){if(p(this,e),new RegExp(i,"i").test(t))return t=(t=t.replace(/</g,"&lt;")).replace(/>/g,"&gt;")}matchContent(t,i){var s,n,r,a,l;if(p(this,e),r=new RegExp(i,"i"),a=t.match(r))return l=(n=a.index)-20,s=n+i.length+20,l<0&&(l=0),s>t.length&&(s=t.length),t=t.slice(l,s),r=new RegExp(i,"ig"),t=(t=(t=t.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(r,e=>`<em>${e}</em>`)}sortResults(t){return p(this,e),t.sort((e,t)=>!e.content&&t.content?-1:!t.content&&e.content?1:0)}showResults(t){var i,s,n,r,a;for(p(this,e),s="",n=0,r=t.length;n<r;n++)a=t[n],s+=this.createResult(a);return(i=document.querySelector("search > ul")).innerHTML=s,this.bindResultEvent(i),i.style.display="block"}createResult(t){var i,s,n;return p(this,e),({id:n,heading:s,content:i}=t),i?`<li id="${n}" type="content">\n   <heading>${s}</heading>\n   <content>${i}</content>\n</li>`:`<li id="${n}">\n   <heading>${s}</heading>\n</li>`}hideResults(){var t;return p(this,e),(t=document.querySelector("search > ul")).innerHTML="",t.style.display="none"}bindResultEvent(t){var i,s,n,r,a;for(p(this,e),a=[],n=0,r=(s=t.querySelectorAll("ul > li")).length;n<r;n++)i=s[n],a.push(i.addEventListener("click",this.select.bind(this,i)));return a}select(t){var i;return p(this,e),i=t.getAttribute("id"),this.emit("select",i)}showClear(){return p(this,e),this.$clear.style.display="block"}hideClear(){return p(this,e),this.$clear.style.display="none"}},y=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};g=n,d=h,f=c,m=b;var v=class e extends g{constructor(){super(),this.getPath=this.getPath.bind(this),this.getQuery=this.getQuery.bind(this),this.getFilePath=this.getFilePath.bind(this),this.load=this.load.bind(this),this.ready=this.ready.bind(this),this.render=this.render.bind(this),this.rehash=this.rehash.bind(this),this.formatPath=this.formatPath.bind(this),this.isOverMain=!1,this.$root=document.createElement("root"),this.$side=document.createElement("side"),this.$main=document.createElement("main"),this.path=this.getPath(),this.query=this.getQuery(),this.filePath=this.getFilePath(),this.load(e=>{if(this.markdown=e,this.article=new d(e),this.summary=new f(this.article.summary),this.search=new m(this.article.$sections),this.article.on("scroll",e=>{if(this.isOverMain)return this.rehash(e)}),this.article.on("scroll",e=>{if(this.isOverMain)return this.summary.scroll(e)}),this.article.on("scroll",e=>{if(this.isOverMain)return this.summary.active(e)}),this.summary.on("select",this.rehash),this.summary.on("select",this.summary.active),this.summary.on("select",this.article.scroll),this.search.on("select",this.rehash),this.search.on("select",this.article.scroll),this.ready(),this.render(),this.query.id)return this.article.scroll(this.query.id),this.summary.scroll(this.query.id),this.summary.active(this.query.id)})}getPath(){var t;return y(this,e),(t=location.hash)?t.slice(1).replace(/\?.*$/,""):"/"}getQuery(){var t,i,s,n,r,a,l,h,o,u;if(y(this,e),h={},(n=(i=decodeURI(location.hash)).indexOf("?"))>-1)for(s=0,a=(t=i.slice(n+1).split("&")).length;s<a;s++)l=(r=(r=t[s]).split("="))[0],u=null==(o=r[1])||o,h[l]=u;return h}getFilePath(){var t;return y(this,e),(t=this.getPath())&&(t=t.slice(1)),Breeze.basePath&&(t=Breeze.basePath+"/"+t),t&&(t=t.replace(/\/{2,}/g,"/")),"/"===t[0]&&(t=t.slice(1)),""===t&&(t="README"),"/"===t[t.length-1]&&(t+="README"),t+".md"}load(t){var i;return y(this,e),(i=new XMLHttpRequest).open("GET",this.filePath,!0),i.send(null),i.onreadystatechange=(()=>{if(4===i.readyState&&200===i.status)return t(i.responseText)})}ready(){return y(this,e),this.$main.appendChild(this.article.$dom),this.$side.appendChild(this.search.$dom),this.$side.appendChild(this.summary.$dom),this.$root.appendChild(this.$side),this.$root.appendChild(this.$main),this.$main.addEventListener("mouseenter",()=>this.isOverMain=!0),this.$main.addEventListener("mouseleave",()=>this.isOverMain=!1),this.$main.style.minHeight=window.innerHeight+"px"}render(){var t;return y(this,e),(t=document.querySelector("body > root"))?document.body.replaceChild(this.$root,t):document.body.appendChild(this.$root)}rehash(t){return y(this,e),t?history.replaceState(null,null,this.formatPath({id:t})):history.replaceState(null,null,this.formatPath())}formatPath(t={}){var i,s,n,r,a;for(s in y(this,e),i=[],r=Object.assign({},r,t))(a=r[s])?i.push(s+"="+a):i.push(s);return n=i.length?this.path+"?"+i.join("&"):this.path,location.hash&&(n="/#"+n),n}};return t(function(e){var t;t=v,window.onload=(()=>{return new t})})}();
